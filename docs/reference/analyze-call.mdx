---
id: analyze-call
title: Analyze Call
sidebar_position: 2
---

# POST /v1/analyze_call

Analyze a sales call transcript to extract insights, MEDDIC metrics, objections, next steps, deal risk, and generate CRM actions.

## Authentication

This endpoint requires authentication. Include your bearer token in the Authorization header.

## Request

```bash
curl -X POST "http://13.48.104.222:8000/v1/meeting-insights" \
  -H "accept: application/json" \
  -H "Content-Type: application/json" \
  -d '{
  "transcript": [
    {
      "end_timestamp": 43.29999923706055,
      "language": null,
      "speaker": "Andy Waterhouse",
      "speaker_id": 50332672,
      "start_timestamp": 0.18000000715255737,
      "text": "Each other. So we don't get to meet physically. I mean, we talk on a r…",
      "is_seller": false
    },
    {
      "end_timestamp": 52.91999816894531,
      "language": null,
      "speaker": "Ajay Singh",
      "speaker_id": 16778240,
      "start_timestamp": 45.56999969482422,
      "text": "We are planning to take a break in December, so we're going to Bali. F…",
      "is_seller": true
    },
    {
      "end_timestamp": 60.22999954223633,
      "language": null,
      "speaker": "Andy Waterhouse",
      "speaker_id": 50332672,
      "start_timestamp": 55.54999923706055,
      "text": "Of Bali. I love it. I love it. Obviously a lot closer for you, but",
      "is_seller": false
    },
    {
      "end_timestamp": 60.630001068115234,
      "language": null,
      "speaker": "Ajay Singh",
      "speaker_id": 16778240,
      "start_timestamp": 60.22999954223633,
      "text": "you've been there.",
      "is_seller": true
    },
    {
      "end_timestamp": 93.33999633789062,
      "language": null,
      "speaker": "Andy Waterhouse",
      "speaker_id": 50332672,
      "start_timestamp": 62.400001525878906,
      "text": "No, but I've spent. Because of the travel that I've done. I've spent a…",
      "is_seller": false
    }
  ],
  "llm_provider": "openai"
}'
```

## Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `transcript` | array | Yes | Array of transcript entries |
| `transcript[].speaker` | string | Yes | Speaker name |
| `transcript[].speaker_id` | number | Yes | Speaker identifier |
| `transcript[].text` | string | Yes | Spoken text |
| `transcript[].start_timestamp` | number | Yes | Start time in seconds |
| `transcript[].end_timestamp` | number | Yes | End time in seconds |
| `transcript[].language` | string \| null | No | Language code if available |
| `transcript[].is_seller` | boolean | Yes | Indicates if the speaker is the seller |
| `llm_provider` | string | Yes | LLM provider (e.g., "openai") |

## Response

**200 OK**

```json
{
  "status": "success",
  "data": {
    "call_summary": "Casual conversation with no business-related insights.",
    "follow_up_email": {
      "email": "Hi Andy,\n\nThanks for the chat. No action items.\n\nRegards,\nAjay"
    },
    "sales_framework": {
      "total_score": 0,
      "parameters": [
        {
          "parameter": "Metrics",
          "score": 0,
          "explanation": "No business metrics discussed."
        }
      ]
    },
    "key_points": {
      "key_points": [
        {
          "heading": "No Key Points",
          "key_point": "No business-relevant content."
        }
      ]
    },
    "metrics": {},
    "questions": {
      "buyer_questions": [],
      "seller_questions": []
    }
  }
}
```

## Response Fields

### Call Summary

| Field | Type | Description |
|-------|------|-------------|
| `call_summary` | string | High-level summary of the call conversation |

### Follow-up Email

| Field | Type | Description |
|-------|------|-------------|
| `follow_up_email.email` | string | Generated follow-up email content |

### Sales Framework

| Field | Type | Description |
|-------|------|-------------|
| `sales_framework.total_score` | number | Total sales framework score |
| `sales_framework.parameters` | array | Array of sales framework parameters |
| `sales_framework.parameters[].parameter` | string | Parameter name (e.g., "Metrics") |
| `sales_framework.parameters[].score` | number | Score for this parameter |
| `sales_framework.parameters[].explanation` | string | Explanation of the score |

### Key Points

| Field | Type | Description |
|-------|------|-------------|
| `key_points.key_points` | array | Array of key points extracted from the call |
| `key_points.key_points[].heading` | string | Heading for the key point |
| `key_points.key_points[].key_point` | string | Description of the key point |

### Metrics

| Field | Type | Description |
|-------|------|-------------|
| `metrics` | object | Extracted business metrics (varies by call content) |

### Questions

| Field | Type | Description |
|-------|------|-------------|
| `questions.buyer_questions` | array | Array of questions asked by the buyer |
| `questions.seller_questions` | array | Array of questions asked by the seller |

## Error Responses

**400 Bad Request** - Invalid request format

```json
{
  "status": "error",
  "error": {
    "code": "validation_error",
    "message": "Invalid request parameters",
    "details": {
      "transcript": "Transcript array is required and must not be empty"
    }
  }
}
```

**401 Unauthorized** - Missing or invalid token

```json
{
  "status": "error",
  "error": {
    "code": "unauthorized",
    "message": "Invalid or expired token"
  }
}
```

**429 Too Many Requests** - Rate limit exceeded

```json
{
  "status": "error",
  "error": {
    "code": "rate_limit_exceeded",
    "message": "Too many requests. Please try again later.",
    "retry_after": 60
  }
}
```

## Example Usage

### JavaScript

```javascript
const response = await fetch('http://13.48.104.222:8000/v1/meeting-insights', {
  method: 'POST',
  headers: {
    'accept': 'application/json',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    transcript: [
      {
        end_timestamp: 43.29999923706055,
        language: null,
        speaker: "Andy Waterhouse",
        speaker_id: 50332672,
        start_timestamp: 0.18000000715255737,
        text: "Each other. So we don't get to meet physically. I mean, we talk on a r…",
        is_seller: false
      },
      {
        end_timestamp: 52.91999816894531,
        language: null,
        speaker: "Ajay Singh",
        speaker_id: 16778240,
        start_timestamp: 45.56999969482422,
        text: "We are planning to take a break in December, so we're going to Bali. F…",
        is_seller: true
      }
    ],
    llm_provider: "openai"
  })
});

const result = await response.json();

if (result.status === 'success') {
  console.log('Call Summary:', result.data.call_summary);
  console.log('Follow-up Email:', result.data.follow_up_email.email);
  console.log('Sales Framework Score:', result.data.sales_framework.total_score);
  console.log('Key Points:', result.data.key_points.key_points);
}
```

### Python

```python
import requests

response = requests.post(
    'http://13.48.104.222:8000/v1/meeting-insights',
    headers={
        'accept': 'application/json',
        'Content-Type': 'application/json'
    },
    json={
        'transcript': [
            {
                'end_timestamp': 43.29999923706055,
                'language': None,
                'speaker': 'Andy Waterhouse',
                'speaker_id': 50332672,
                'start_timestamp': 0.18000000715255737,
                'text': "Each other. So we don't get to meet physically. I mean, we talk on a r…",
                'is_seller': False
            },
            {
                'end_timestamp': 52.91999816894531,
                'language': None,
                'speaker': 'Ajay Singh',
                'speaker_id': 16778240,
                'start_timestamp': 45.56999969482422,
                'text': "We are planning to take a break in December, so we're going to Bali. F…",
                'is_seller': True
            }
        ],
        'llm_provider': 'openai'
    }
)

result = response.json()

if result['status'] == 'success':
    data = result['data']
    print(f"Call Summary: {data['call_summary']}")
    print(f"Follow-up Email: {data['follow_up_email']['email']}")
    print(f"Sales Framework Score: {data['sales_framework']['total_score']}")
    print(f"Key Points: {data['key_points']['key_points']}")
```

## Notes

- The analysis is performed synchronously and returns results immediately.
- The `llm_provider` parameter specifies which LLM service to use (e.g., "openai").
- Each transcript entry must include speaker identification with `speaker_id` and timestamp information.
- The `is_seller` field helps identify which participant is the sales representative.
- The sales framework score provides insights into how well the call aligns with sales best practices.

