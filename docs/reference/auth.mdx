---
id: auth
title: Login
sidebar_position: 1
---

# Authentication Endpoints

## POST /auth/login

Authenticate a user and receive an access token.

### Request

```bash
curl -X POST https://dev2-api.pepsales.xyz/auth/login \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer null" \
  -d '{
    "email": "user@example.com",
    "password": "securepassword123"
  }'
```

### Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `email` | string | Yes | User's email address |
| `password` | string | Yes | User's password |

### Response

**200 OK**

```json
{
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "name": "John Doe",
      "email": "user@example.com"
    }
  }
}
```

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `token` | string | JWT access token for authenticated requests |
| `refresh_token` | string | Refresh token for obtaining new access tokens |
| `user` | object | User object containing id, name, and email |

### Error Responses

**400 Bad Request** - Invalid credentials

```json
{
  "error": {
    "code": "invalid_credentials",
    "message": "Invalid username or password"
  }
}
```

**429 Too Many Requests** - Too many login attempts

```json
{
  "error": {
    "code": "rate_limit_exceeded",
    "message": "Too many login attempts. Please try again later.",
    "retry_after": 300
  }
}
```

### Example Usage

```javascript
const response = await fetch('https://dev2-api.pepsales.xyz/auth/login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer null',
  },
  body: JSON.stringify({
    email: 'user@example.com',
    password: 'securepassword123'
  })
});

const { data } = await response.json();
const token = data.token;
const user = data.user;
```

```python
import requests

response = requests.post(
    'https://dev2-api.pepsales.xyz/auth/login',
    headers={
        'Authorization': 'Bearer null'
    },
    json={
        'email': 'user@example.com',
        'password': 'securepassword123'
    }
)

data = response.json()['data']
token = data['token']
user = data['user']
```

